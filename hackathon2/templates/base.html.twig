<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Welcome!{% endblock %}</title>
        <link href="https://fonts.googleapis.com/css?family=Josefin+Slab&display=swap" rel="stylesheet">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script>
            (function($){
                $.fn.vTicker = function(options) {
                    var defaults = {
                        speed: 800,
                        showItems: 1,
                        pause: 0,
                        mousePause: false,
                        direction: "up",
                    };

                    var options = $.extend(defaults, options);

                    moveUp = function(obj2, height, options){
                        if(options.isPaused)
                            return;

                        var obj = obj2.children('ul');

                        var clone = obj.children('li:first').clone(true);

                        if(options.height > 0)
                        {
                            height = obj.children('li:first').height();
                        }

                        obj.animate({top: '-=' + height + 'px'}, options.speed, function() {
                            $(this).children('li:first').remove();
                            $(this).css('top', '0px');
                        });

                        if(options.animation == 'fade')
                        {
                            obj.children('li:first').fadeOut(options.speed);
                            if(options.height == 0)
                            {
                                obj.children('li:eq(' + options.showItems + ')').hide().fadeIn(options.speed).show();
                            }
                        }

                        clone.appendTo(obj);
                    };

                    moveDown = function(obj2, height, options){
                        if(options.isPaused)
                            return;

                        var obj = obj2.children('ul');

                        var clone = obj.children('li:last').clone(true);

                        if(options.height > 0)
                        {
                            height = obj.children('li:first').height();
                        }

                        obj.css('top', '-' + height + 'px')
                            .prepend(clone);

                        obj.animate({top: 0}, options.speed, function() {
                            $(this).children('li:last').remove();
                        });

                        if(options.animation == 'fade')
                        {
                            if(options.height == 0)
                            {
                                obj.children('li:eq(' + options.showItems + ')').fadeOut(options.speed);
                            }
                            obj.children('li:first').hide().fadeIn(options.speed).show();
                        }
                    };

                    return this.each(function() {
                        var obj = $(this);
                        var maxHeight = 0;

                        obj.css({overflow: 'hidden', position: 'relative'})
                            .children('ul').css({position: 'absolute', margin: 0, padding: 0})
                            .children('li').css({margin: 0, padding: 0});

                        if(options.height == 0)
                        {
                            obj.children('ul').children('li').each(function(){
                                if($(this).height() > maxHeight)
                                {
                                    maxHeight = $(this).height();
                                }
                            });

                            obj.children('ul').children('li').each(function(){
                                $(this).height(maxHeight);
                            });

                            obj.height(maxHeight * options.showItems);
                        }
                        else
                        {
                            obj.height(options.height);
                        }

                        var interval = setInterval(function(){
                            if(options.direction == 'up')
                            {
                                moveUp(obj, maxHeight, options);
                            }
                            else
                            {
                                moveDown(obj, maxHeight, options);
                            }
                        }, options.pause);

                        if(options.mousePause)
                        {
                            obj.bind("mouseenter",function(){
                                options.isPaused = true;
                            }).bind("mouseleave",function(){
                                options.isPaused = false;
                            });
                        }
                    });
                };
            })(jQuery);
        </script>
        {% block stylesheets %}
            {{ encore_entry_link_tags('app') }}
        {% endblock %}
    </head>
    <header>
        <nav class="navbar navbar-dark">
            <a class="navbar-brand" href="{{ path('home') }}">DelivMoiCa</a>
            <span><h2 class="ml-5">Nos restaurants partenaires :</h2></span>
            <div id="anim" class="col-md-4" style="color: black; overflow: hidden; height: 36px;">
                <ul style="list-style: none">
                    {% for toutresto in toutresto %}
                    <li style="opacity: 1; margin: 0px; padding: 0px; height: 36px;"><h3>{{ toutresto.name }}</h3></li>
                    {% endfor %}
                </ul>
            </div>

            <script>
                jQuery(function($){
                    $(document).ready(function(){
                        $("#anim").find("li").css("opacity","1");
                        $("#anim")
                            .vTicker({
                                    speed: 1200,
                                    showItems: 1,
                                    pause: 300,
                                    mousePause: true,
                                    direction: "up",
                                }
                            );
                    });
                });
            </script>
        </nav>
        {% block header %}
        {% endblock %}
    </header>
    <body>
        {% block body %}
        {% endblock %}
        {% block javascripts %}
            {{ encore_entry_script_tags('app') }}
        {% endblock %}
    <footer>
        <div class="row">
            <div class="col-md-11 text-right mt-5">
                <a href="{{ path('restaurant') }}" class="btn btn-danger">Commande</a>
            </div>
        </div>
    </footer>
    </body>
</html>
